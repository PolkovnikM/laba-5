<!DOCTYPE html>
<html>
<head>
    <title>Генератор паролей</title>
    <style>
        body { font-family: Arial; max-width: 600px; margin: 40px auto; }
        .container { padding: 20px; border: 1px solid #ddd; }
        input, button { padding: 10px; margin: 5px; }
        .password { font-weight: bold; color: green; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Генератор паролей</h1>
        
        <div>
            <label>Длина:</label>
            <input type="number" id="length" value="12" min="6" max="32">
            <button onclick="generate()">Сгенерировать</button>
            <p id="result" class="password"></p>
        </div>
        
        <div style="margin-top: 30px;">
            <h2>Проверка пароля</h2>
            <input type="text" id="check-password" placeholder="Введите пароль">
            <button onclick="validate()">Проверить</button>
            <p id="validation-result"></p>
        </div>
    </div>

    <script>
        function generate() {
            const length = document.getElementById('length').value;
            fetch('/generate', {
                method: 'POST',
                headers: {'Content-Type': 'application/x-www-form-urlencoded'},
                body: `length=${length}`
            })
            .then(r => r.json())
            .then(data => {
                document.getElementById('result').textContent = data.password || data.error;
            });
        }
        
        function validate() {
            const password = document.getElementById('check-password').value;
            fetch('/validate', {
                method: 'POST',
                headers: {'Content-Type': 'application/x-www-form-urlencoded'},
                body: `password=${encodeURIComponent(password)}`
            })
            .then(r => r.json())
            .then(data => {
                const result = document.getElementById('validation-result');
                result.textContent = `Оценка: ${data.score}/4 - ${data.strength}`;
            });
        }
    </script>
</body>
</html>
